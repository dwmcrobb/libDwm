\doxysection{Dwm\+::Load\+Balancer\texorpdfstring{$<$}{<} ItemT \texorpdfstring{$>$}{>}\+::Worker Class Reference}
\hypertarget{classDwm_1_1LoadBalancer_1_1Worker}{}\label{classDwm_1_1LoadBalancer_1_1Worker}\index{Dwm::LoadBalancer$<$ ItemT $>$::Worker@{Dwm::LoadBalancer$<$ ItemT $>$::Worker}}


\doxylink{classDwm_1_1LoadBalancer_1_1Worker}{Worker} class for \doxylink{classDwm_1_1LoadBalancer}{Load\+Balancer}.  




{\ttfamily \#include $<$Dwm\+Load\+Balancer.\+hh$>$}



Collaboration diagram for Dwm\+::Load\+Balancer\texorpdfstring{$<$}{<} ItemT \texorpdfstring{$>$}{>}\+::Worker\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=193pt]{classDwm_1_1LoadBalancer_1_1Worker__coll__graph}
\end{center}
\end{figure}
\doxysubsubsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{classDwm_1_1LoadBalancer_1_1Worker_a8c805155c6acde1cb8ee4cf5e50b2bda}{Worker}} (std\+::chrono\+::microseconds wait\+Not\+Empty\+Microseconds=std\+::chrono\+::microseconds(1000))
\begin{DoxyCompactList}\small\item\em Constructs the worker. \end{DoxyCompactList}\item 
\Hypertarget{classDwm_1_1LoadBalancer_1_1Worker_a79b9761a0ca1eb0b2c80d91803307468}\label{classDwm_1_1LoadBalancer_1_1Worker_a79b9761a0ca1eb0b2c80d91803307468} 
virtual {\bfseries \texorpdfstring{$\sim$}{\string~}\+Worker} ()
\begin{DoxyCompactList}\small\item\em Destructor. Stops the worker thread. \end{DoxyCompactList}\item 
bool \mbox{\hyperlink{classDwm_1_1LoadBalancer_1_1Worker_a7862485c544da43b1ba30f01bb1f0f43}{Add\+Work}} (const ItemT \&item)
\begin{DoxyCompactList}\small\item\em Adds a work item for the worker. \end{DoxyCompactList}\item 
{\footnotesize template$<$typename Input\+Iterator $>$ }\\bool \mbox{\hyperlink{classDwm_1_1LoadBalancer_1_1Worker_a0248c1e72d266f78cb4e6ecb170f3672}{Add\+Work}} (Input\+Iterator first\+Iter, Input\+Iterator last\+Iter)
\begin{DoxyCompactList}\small\item\em Adds work items for the worker. \end{DoxyCompactList}\item 
\Hypertarget{classDwm_1_1LoadBalancer_1_1Worker_aabed8962d7c506c9b78f9ed94530ff5d}\label{classDwm_1_1LoadBalancer_1_1Worker_aabed8962d7c506c9b78f9ed94530ff5d} 
uint32\+\_\+t {\bfseries Queue\+Length} () const
\begin{DoxyCompactList}\small\item\em Returns the current length of the worker\textquotesingle{}s work queue. \end{DoxyCompactList}\item 
\Hypertarget{classDwm_1_1LoadBalancer_1_1Worker_afaac72abf954bb5ea8493e7c24319de1}\label{classDwm_1_1LoadBalancer_1_1Worker_afaac72abf954bb5ea8493e7c24319de1} 
bool {\bfseries Ready\+For\+Work} () const
\begin{DoxyCompactList}\small\item\em Returns true if the worker is ready for more work (has room in its work queue and is running). \end{DoxyCompactList}\item 
\Hypertarget{classDwm_1_1LoadBalancer_1_1Worker_a91cf93b1f32bd977d296ddd770a57acb}\label{classDwm_1_1LoadBalancer_1_1Worker_a91cf93b1f32bd977d296ddd770a57acb} 
bool {\bfseries Ready\+For\+Work} (size\+\_\+t num\+Entries) const
\begin{DoxyCompactList}\small\item\em Returns true if the worker is ready for {\ttfamily num\+Entries} units of work. \end{DoxyCompactList}\item 
\Hypertarget{classDwm_1_1LoadBalancer_1_1Worker_a6e230bd9125fcd7ccc075e153dd8ca30}\label{classDwm_1_1LoadBalancer_1_1Worker_a6e230bd9125fcd7ccc075e153dd8ca30} 
void {\bfseries Max\+Work} (uint32\+\_\+t max\+Items)
\begin{DoxyCompactList}\small\item\em Sets the maximum length of the worker\textquotesingle{}s work queue. \end{DoxyCompactList}\item 
\Hypertarget{classDwm_1_1LoadBalancer_1_1Worker_afb92444b0d8e20acda42f41e6a7805a9}\label{classDwm_1_1LoadBalancer_1_1Worker_afb92444b0d8e20acda42f41e6a7805a9} 
bool {\bfseries Start} ()
\begin{DoxyCompactList}\small\item\em Starts the worker. \end{DoxyCompactList}\item 
\Hypertarget{classDwm_1_1LoadBalancer_1_1Worker_a7484cebfcdb0083b26c98c8a1027ee7b}\label{classDwm_1_1LoadBalancer_1_1Worker_a7484cebfcdb0083b26c98c8a1027ee7b} 
void {\bfseries Stop} ()
\begin{DoxyCompactList}\small\item\em Stops the worker. \end{DoxyCompactList}\item 
\Hypertarget{classDwm_1_1LoadBalancer_1_1Worker_afa1966275eca3fa0211fc60eb878125e}\label{classDwm_1_1LoadBalancer_1_1Worker_afa1966275eca3fa0211fc60eb878125e} 
bool {\bfseries Is\+Running} ()
\begin{DoxyCompactList}\small\item\em Returns true if the worker\textquotesingle{}s thread is running. \end{DoxyCompactList}\item 
\Hypertarget{classDwm_1_1LoadBalancer_1_1Worker_a3b6a75bf90d10ed6103ffa3cfb0e4a2b}\label{classDwm_1_1LoadBalancer_1_1Worker_a3b6a75bf90d10ed6103ffa3cfb0e4a2b} 
void {\bfseries Run} ()
\begin{DoxyCompactList}\small\item\em Runs the worker thread. \end{DoxyCompactList}\item 
virtual void \mbox{\hyperlink{classDwm_1_1LoadBalancer_1_1Worker_a5a89d8f295063b05be78b6bc9aa82bb5}{Process\+Work}} (ItemT \&item)=0
\begin{DoxyCompactList}\small\item\em Pure virtual member to process a single work item. \end{DoxyCompactList}\item 
virtual bool \mbox{\hyperlink{classDwm_1_1LoadBalancer_1_1Worker_a0443e8e017d4e879751d898dc945ecb0}{Process\+Work}} (std\+::deque$<$ ItemT $>$ \&items)
\begin{DoxyCompactList}\small\item\em Process a deque of work items. \end{DoxyCompactList}\item 
std\+::chrono\+::microseconds \mbox{\hyperlink{classDwm_1_1LoadBalancer_1_1Worker_ae6ee5b23860a6119b69dcf2d51aaf6ce}{Wait\+Usecs}} () const
\begin{DoxyCompactList}\small\item\em Returns the microseconds we\textquotesingle{}ll wait for queue to be non-\/empty in our worker thread. \end{DoxyCompactList}\end{DoxyCompactItemize}
\doxysubsubsection*{Protected Attributes}
\begin{DoxyCompactItemize}
\item 
\Hypertarget{classDwm_1_1LoadBalancer_1_1Worker_ab3895d1bf7641626b44f70bcc6876253}\label{classDwm_1_1LoadBalancer_1_1Worker_ab3895d1bf7641626b44f70bcc6876253} 
\mbox{\hyperlink{classDwm_1_1Thread_1_1Queue}{Thread\+::\+Queue}}$<$ ItemT $>$ {\bfseries \+\_\+work\+Queue}
\item 
\Hypertarget{classDwm_1_1LoadBalancer_1_1Worker_ac7c57a4e363bc8bb3a04f181d996eea1}\label{classDwm_1_1LoadBalancer_1_1Worker_ac7c57a4e363bc8bb3a04f181d996eea1} 
std\+::atomic$<$ bool $>$ {\bfseries \+\_\+keep\+Running}
\item 
\Hypertarget{classDwm_1_1LoadBalancer_1_1Worker_a101ec47ec7d2390ecd1679bbc7a0799a}\label{classDwm_1_1LoadBalancer_1_1Worker_a101ec47ec7d2390ecd1679bbc7a0799a} 
std\+::thread {\bfseries \+\_\+thread}
\item 
\Hypertarget{classDwm_1_1LoadBalancer_1_1Worker_ab2950f15da6da0f30a70720e797cc70e}\label{classDwm_1_1LoadBalancer_1_1Worker_ab2950f15da6da0f30a70720e797cc70e} 
std\+::atomic$<$ std\+::chrono\+::microseconds $>$ {\bfseries \+\_\+wait\+Usecs}
\end{DoxyCompactItemize}


\doxysubsection{Detailed Description}
\subsubsection*{template$<$typename ItemT$>$\newline
class Dwm\+::\+Load\+Balancer$<$ Item\+T $>$\+::\+Worker}
\doxylink{classDwm_1_1LoadBalancer_1_1Worker}{Worker} class for \doxylink{classDwm_1_1LoadBalancer}{Load\+Balancer}. 

\doxysubsection{Constructor \& Destructor Documentation}
\Hypertarget{classDwm_1_1LoadBalancer_1_1Worker_a8c805155c6acde1cb8ee4cf5e50b2bda}\index{Dwm::LoadBalancer$<$ ItemT $>$::Worker@{Dwm::LoadBalancer$<$ ItemT $>$::Worker}!Worker@{Worker}}
\index{Worker@{Worker}!Dwm::LoadBalancer$<$ ItemT $>$::Worker@{Dwm::LoadBalancer$<$ ItemT $>$::Worker}}
\doxysubsubsection{\texorpdfstring{Worker()}{Worker()}}
{\footnotesize\ttfamily \label{classDwm_1_1LoadBalancer_1_1Worker_a8c805155c6acde1cb8ee4cf5e50b2bda} 
template$<$typename ItemT $>$ \\
\mbox{\hyperlink{classDwm_1_1LoadBalancer}{Dwm\+::\+Load\+Balancer}}$<$ ItemT $>$\+::\+Worker\+::\+Worker (\begin{DoxyParamCaption}\item[{std\+::chrono\+::microseconds}]{wait\+Not\+Empty\+Microseconds}{ = {\ttfamily std\+:\+:chrono\+:\+:microseconds(1000)}}\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}



Constructs the worker. 

{\ttfamily wait\+For\+Not\+Empty\+Microseconds} is the period of time to wait for the work queue to become non-\/empty before checking again whether or not to continue. 

\doxysubsection{Member Function Documentation}
\Hypertarget{classDwm_1_1LoadBalancer_1_1Worker_a7862485c544da43b1ba30f01bb1f0f43}\index{Dwm::LoadBalancer$<$ ItemT $>$::Worker@{Dwm::LoadBalancer$<$ ItemT $>$::Worker}!AddWork@{AddWork}}
\index{AddWork@{AddWork}!Dwm::LoadBalancer$<$ ItemT $>$::Worker@{Dwm::LoadBalancer$<$ ItemT $>$::Worker}}
\doxysubsubsection{\texorpdfstring{AddWork()}{AddWork()}\hspace{0.1cm}{\footnotesize\ttfamily [1/2]}}
{\footnotesize\ttfamily \label{classDwm_1_1LoadBalancer_1_1Worker_a7862485c544da43b1ba30f01bb1f0f43} 
template$<$typename ItemT $>$ \\
bool \mbox{\hyperlink{classDwm_1_1LoadBalancer}{Dwm\+::\+Load\+Balancer}}$<$ ItemT $>$\+::\+Worker\+::\+Add\+Work (\begin{DoxyParamCaption}\item[{const ItemT \&}]{item}{}\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}



Adds a work item for the worker. 

Returns true on success, false on failure. A reason for failure\+: the work queue is full. Here is the call graph for this function\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=336pt]{classDwm_1_1LoadBalancer_1_1Worker_a7862485c544da43b1ba30f01bb1f0f43_cgraph}
\end{center}
\end{figure}
\Hypertarget{classDwm_1_1LoadBalancer_1_1Worker_a0248c1e72d266f78cb4e6ecb170f3672}\index{Dwm::LoadBalancer$<$ ItemT $>$::Worker@{Dwm::LoadBalancer$<$ ItemT $>$::Worker}!AddWork@{AddWork}}
\index{AddWork@{AddWork}!Dwm::LoadBalancer$<$ ItemT $>$::Worker@{Dwm::LoadBalancer$<$ ItemT $>$::Worker}}
\doxysubsubsection{\texorpdfstring{AddWork()}{AddWork()}\hspace{0.1cm}{\footnotesize\ttfamily [2/2]}}
{\footnotesize\ttfamily \label{classDwm_1_1LoadBalancer_1_1Worker_a0248c1e72d266f78cb4e6ecb170f3672} 
template$<$typename ItemT $>$ \\
template$<$typename Input\+Iterator $>$ \\
bool \mbox{\hyperlink{classDwm_1_1LoadBalancer}{Dwm\+::\+Load\+Balancer}}$<$ ItemT $>$\+::\+Worker\+::\+Add\+Work (\begin{DoxyParamCaption}\item[{Input\+Iterator}]{first\+Iter}{, }\item[{Input\+Iterator}]{last\+Iter}{}\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}



Adds work items for the worker. 

Returns true on success, false ~\newline
 on failure. Reasons for failure\+: the work queue is full, or {\ttfamily last\+Iter} is equal to {\ttfamily first\+Iter}. Here is the call graph for this function\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=336pt]{classDwm_1_1LoadBalancer_1_1Worker_a0248c1e72d266f78cb4e6ecb170f3672_cgraph}
\end{center}
\end{figure}
\Hypertarget{classDwm_1_1LoadBalancer_1_1Worker_a5a89d8f295063b05be78b6bc9aa82bb5}\index{Dwm::LoadBalancer$<$ ItemT $>$::Worker@{Dwm::LoadBalancer$<$ ItemT $>$::Worker}!ProcessWork@{ProcessWork}}
\index{ProcessWork@{ProcessWork}!Dwm::LoadBalancer$<$ ItemT $>$::Worker@{Dwm::LoadBalancer$<$ ItemT $>$::Worker}}
\doxysubsubsection{\texorpdfstring{ProcessWork()}{ProcessWork()}\hspace{0.1cm}{\footnotesize\ttfamily [1/2]}}
{\footnotesize\ttfamily \label{classDwm_1_1LoadBalancer_1_1Worker_a5a89d8f295063b05be78b6bc9aa82bb5} 
template$<$typename ItemT $>$ \\
virtual void \mbox{\hyperlink{classDwm_1_1LoadBalancer}{Dwm\+::\+Load\+Balancer}}$<$ ItemT $>$\+::\+Worker\+::\+Process\+Work (\begin{DoxyParamCaption}\item[{ItemT \&}]{item}{}\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [pure virtual]}}



Pure virtual member to process a single work item. 

Obviously must be implemented by derived classes. \Hypertarget{classDwm_1_1LoadBalancer_1_1Worker_a0443e8e017d4e879751d898dc945ecb0}\index{Dwm::LoadBalancer$<$ ItemT $>$::Worker@{Dwm::LoadBalancer$<$ ItemT $>$::Worker}!ProcessWork@{ProcessWork}}
\index{ProcessWork@{ProcessWork}!Dwm::LoadBalancer$<$ ItemT $>$::Worker@{Dwm::LoadBalancer$<$ ItemT $>$::Worker}}
\doxysubsubsection{\texorpdfstring{ProcessWork()}{ProcessWork()}\hspace{0.1cm}{\footnotesize\ttfamily [2/2]}}
{\footnotesize\ttfamily \label{classDwm_1_1LoadBalancer_1_1Worker_a0443e8e017d4e879751d898dc945ecb0} 
template$<$typename ItemT $>$ \\
virtual bool \mbox{\hyperlink{classDwm_1_1LoadBalancer}{Dwm\+::\+Load\+Balancer}}$<$ ItemT $>$\+::\+Worker\+::\+Process\+Work (\begin{DoxyParamCaption}\item[{std\+::deque$<$ ItemT $>$ \&}]{items}{}\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [virtual]}}



Process a deque of work items. 

The default implementation does nothing and returns {\ttfamily false}. If you impelement this in your derived class, it should return {\ttfamily true}. \Hypertarget{classDwm_1_1LoadBalancer_1_1Worker_ae6ee5b23860a6119b69dcf2d51aaf6ce}\index{Dwm::LoadBalancer$<$ ItemT $>$::Worker@{Dwm::LoadBalancer$<$ ItemT $>$::Worker}!WaitUsecs@{WaitUsecs}}
\index{WaitUsecs@{WaitUsecs}!Dwm::LoadBalancer$<$ ItemT $>$::Worker@{Dwm::LoadBalancer$<$ ItemT $>$::Worker}}
\doxysubsubsection{\texorpdfstring{WaitUsecs()}{WaitUsecs()}}
{\footnotesize\ttfamily \label{classDwm_1_1LoadBalancer_1_1Worker_ae6ee5b23860a6119b69dcf2d51aaf6ce} 
template$<$typename ItemT $>$ \\
std\+::chrono\+::microseconds \mbox{\hyperlink{classDwm_1_1LoadBalancer}{Dwm\+::\+Load\+Balancer}}$<$ ItemT $>$\+::\+Worker\+::\+Wait\+Usecs (\begin{DoxyParamCaption}{}{}\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [inline]}}



Returns the microseconds we\textquotesingle{}ll wait for queue to be non-\/empty in our worker thread. 

This is basically the longest possible time that our worker thread will be idle. 

The documentation for this class was generated from the following file\+:\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{DwmLoadBalancer_8hh}{Dwm\+Load\+Balancer.\+hh}}\end{DoxyCompactItemize}
