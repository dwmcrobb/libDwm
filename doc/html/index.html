<!-- HTML header for doxygen 1.8.11-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.11.0"/>
<title>libDwm-0.0.20240716: Dwm Class Library</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="cookie.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0" width=100%>
 <tbody>
 <tr style="height: 56px;">
  <td>&nbsp;</td>
  <td id="projectlogo">&nbsp;<img alt="Logo" src="libDwm_blue_base.svg" height=40 align="left" style="vertical-align: top;"/></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">libDwm-0.0.20240716
   </div>
  </td>
  <td><a href="http://www.mcplex.net"><img src="mcplex_net_blue_shadowed.svg" height=35 align="right" style="vertical-align: bottom;"></a></td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.11.0 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() { codefold.init(0); });
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',false,false,'search.php','Search',true);
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function(){initNavTree('index.html',''); initResizable(true); });
/* @license-end */
</script>
<div id="doc-content">
<div><div class="header">
  <div class="headertitle"><div class="title">Dwm Class Library </div></div>
</div><!--header-->
<div class="contents">
<div class="toc"><h3>Table of Contents</h3>
<ul><li class="level1"><a href="#intro_sec">Introduction</a></li>
<li class="level1"><a href="#history_sec">History</a></li>
<li class="level1"><a href="#platforms_sec">Platforms</a></li>
<li class="level1"><a href="#smattering_sec">A small sample of what&#39;s in libDwm</a><ul><li class="level2"><a href="#dwm_io_sec">I/O - Serialization</a></li>
<li class="level2"><a href="#dwm_unitassert_sec">UnitAssert - A trivial unit testing framework</a></li>
<li class="level2"><a href="#dwm_sylogger_sec">Dwm::SysLogger - decorated syslogging</a></li>
<li class="level2"><a href="#dwm_pacer_sec">Dwm::Pacer - pacing repetitive calls</a></li>
<li class="level2"><a href="#dwm_networking_sec">Networking classes</a><ul><li class="level3"><a href="#dwm_pcap_sec">Dwm::Pcap - simple pcap wrapper class</a></li>
<li class="level3"><a href="#dwm_hostpinger_sec">Dwm::HostPinger - pinging IP hosts</a></li>
<li class="level3"><a href="#dwm_icmpclasses_sec">ICMP classes</a></li>
</ul>
</li>
<li class="level2"><a href="#dwm_threadqueue_sec">Dwm::ThreadQueue - inter-thread communication</a></li>
</ul>
</li>
</ul>
</div>
<div class="textblock"><h1><a class="anchor" id="intro_sec"></a>
Introduction</h1>
<p>This class library is just a (somewhat random) collection of classes I've developed over the years for various applications. Since these are used in a variety of places, they're collected here to make re-use easy.</p>
<p>There are a few classes herein that I've used on nearly every software project in the last 20 years. One of those would be the <a class="el" href="classDwm_1_1SysLogger.html" title="This class encapsulates syslog logging in global scope (all members are static).">Dwm::SysLogger</a> class with the <a class="el" href="DwmSysLogger_8hh.html#a7fd0cf2c423c73ded4f5e1332b570ea7" title="Used just like syslog(), but calls Dwm::SysLogger::Log() to allow the filename, line number and funct...">Syslog()</a> macro, since syslogging is a common need. Another would be the <a class="el" href="classDwm_1_1Assertions.html" title="A container to hold all assertions. Note everything is static here.">Dwm::Assertions</a> class with the <a class="el" href="DwmUnitAssert_8hh.html#ac6ef8a61e8418d80847517047c2c8958" title="This macro is used just like assert(), but populates Assertions so we can report results at the end o...">UnitAssert()</a> macro since I almost always write unit tests as part of my development process. And when I need to store data, I use the IO classes along with the various Readable and Writable interfaces.</p>
<p>Since much of the software I've written in the last 20 years has been multithreaded, I have also made heavy use of the <a class="el" href="classDwm_1_1Thread_1_1Queue.html" title="This template provides inter-thread first-in first-out (FIFO) queueing.">Dwm::Thread::Queue</a> class for inter-thread communication (usually as 'work queues').</p>
<h1><a class="anchor" id="history_sec"></a>
History</h1>
<p>I started this library in 1998. I continue to maintain it for my personal use. While it has grown over the years, the most common use features have been stable for a long time. To some extent they have to be stable; I have over 500,000 lines of code in my personal software repository, and a decent amount of it is dependent on this library. The good news is that those dependencies don't prevent me from refactoring, improving and growing libDwm as needed.</p>
<h1><a class="anchor" id="platforms_sec"></a>
Platforms</h1>
<p>I really only maintain support for 4 platforms: FreeBSD, macOS, desktop linux and Raspbian. FreeBSD is my operating system of choice for servers and macOS is my operating system of choice for desktops and laptops. I have several Raspberry Pis I utilize for simple small tasks, and Ubuntu VMs and Ubuntu workstations.</p>
<h1><a class="anchor" id="smattering_sec"></a>
A small sample of what's in libDwm</h1>
<h2><a class="anchor" id="dwm_io_sec"></a>
I/O - Serialization</h2>
<p><a class="el" href="classDwm_1_1DescriptorIO.html" title="This class contains a collection of static functions for reading and writing simple types,...">Dwm::DescriptorIO</a>, <a class="el" href="classDwm_1_1FileIO.html" title="This class contains a collection of static functions for reading and writing simple types,...">Dwm::FileIO</a>, <a class="el" href="classDwm_1_1StreamIO.html" title="This class contains a collection of static functions for reading and writing simple types,...">Dwm::StreamIO</a>, <a class="el" href="classDwm_1_1ASIO.html" title="A collection of functions for reading from and writing to Boost ASIO stream sockets.">Dwm::ASIO</a>, <a class="el" href="classDwm_1_1GZIO.html" title="This class contains a collection of static functions for reading and writing simple types in network ...">Dwm::GZIO</a> and <a class="el" href="classDwm_1_1BZ2IO.html" title="This class contains a collection of static functions for reading and writing simple types in network ...">Dwm::BZ2IO</a> provide serialization for intrinsic types, containers of intrinsic types, user types which implement the required interfaces, and containers of these user types.</p>
<p>Intrinsic integer types are written in network byte order. The library takes care of byte ordering so you need not be concerned with it. Float and double types are written in IEEE 754-1985 form (see RFC 1832). Some types are stored as (length,value) pairs, including the standard containers and C++ string objects.</p>
<p>For user types, the required interfaces are *Readable and *Writable, such as <a class="el" href="classDwm_1_1StreamReadable.html" title="This class defines an interface for classes that can read their contents from an istream.">Dwm::StreamReadable</a> and <a class="el" href="classDwm_1_1StreamWritable.html" title="This class defines an interface for classes that can write their contents to an ostream.">Dwm::StreamWritable</a>. The required interfaces for <a class="el" href="classDwm_1_1GZIO.html" title="This class contains a collection of static functions for reading and writing simple types in network ...">Dwm::GZIO</a> are <a class="el" href="classDwm_1_1GZReadable.html" title="This class is a pure virtual class, defining an interface for classes that can read their contents fr...">Dwm::GZReadable</a> and <a class="el" href="classDwm_1_1GZWritable.html" title="This class is a pure virtual class, defining an interface for classes that can write their contents t...">Dwm::GZWritable</a>. The required interfaces for <a class="el" href="classDwm_1_1BZ2IO.html" title="This class contains a collection of static functions for reading and writing simple types in network ...">Dwm::BZ2IO</a> are <a class="el" href="classDwm_1_1BZ2Readable.html" title="This class is a pure virtual class, defining an interface for classes that can read their contents fr...">Dwm::BZ2Readable</a> and <a class="el" href="classDwm_1_1BZ2Writable.html" title="This class is a pure virtual class, defining an interface for classes that can write their contents t...">Dwm::BZ2Writable</a>.</p>
<p>Today, the C++ programmer has several options for serialization, and the possibility of reflection in a future version of the standard. However, I wrote most of this functionality in 2004 when we didn't have a lot of options to support serialization and finalized most of it in 2007 with the addition of cleaner code for std::tuple. I couldn't do this effectively until the compilers were up to speed.</p>
<p>Why did I spend time on this functionality? I frequently need to do things like this (error checking absent for the sake of brevity):</p>
<div class="fragment"><div class="line"><a id="l00001" name="l00001"></a><span class="lineno">    1</span><span class="preprocessor">#include &lt;fstream&gt;</span></div>
<div class="line"><a id="l00002" name="l00002"></a><span class="lineno">    2</span><span class="preprocessor">#include &lt;map&gt;</span></div>
<div class="line"><a id="l00003" name="l00003"></a><span class="lineno">    3</span><span class="preprocessor">#include &lt;string&gt;</span></div>
<div class="line"><a id="l00004" name="l00004"></a><span class="lineno">    4</span> </div>
<div class="line"><a id="l00005" name="l00005"></a><span class="lineno">    5</span><span class="preprocessor">#include &quot;<a class="code" href="DwmIpv4Address_8hh.html">DwmIpv4Address.hh</a>&quot;</span></div>
<div class="line"><a id="l00006" name="l00006"></a><span class="lineno">    6</span><span class="preprocessor">#include &quot;<a class="code" href="DwmStreamIO_8hh.html">DwmStreamIO.hh</a>&quot;</span></div>
<div class="line"><a id="l00007" name="l00007"></a><span class="lineno">    7</span> </div>
<div class="line"><a id="l00008" name="l00008"></a><span class="lineno">    8</span><span class="keywordtype">int</span> main(<span class="keywordtype">int</span> argc, <span class="keywordtype">char</span> *argv[])</div>
<div class="line"><a id="l00009" name="l00009"></a><span class="lineno">    9</span>{</div>
<div class="line"><a id="l00010" name="l00010"></a><span class="lineno">   10</span>  std::map&lt;Dwm::Ipv4Address, std::string&gt;  hosts;</div>
<div class="line"><a id="l00011" name="l00011"></a><span class="lineno">   11</span>  </div>
<div class="line"><a id="l00012" name="l00012"></a><span class="lineno">   12</span>  <span class="comment">//  Read hosts from an ifstream</span></div>
<div class="line"><a id="l00013" name="l00013"></a><span class="lineno">   13</span>  std::ifstream  is(<span class="stringliteral">&quot;/tmp/hosts&quot;</span>);</div>
<div class="line"><a id="l00014" name="l00014"></a><span class="lineno">   14</span>  </div>
<div class="line"><a id="l00015" name="l00015"></a><span class="lineno">   15</span>  <span class="keywordflow">if</span> (is) {</div>
<div class="line"><a id="l00016" name="l00016"></a><span class="lineno">   16</span>    <a class="code hl_function" href="classDwm_1_1StreamIO.html#a53f8175153c0a8a5da8d363cfa23c61a">Dwm::StreamIO::Read</a>(is, hosts);</div>
<div class="line"><a id="l00017" name="l00017"></a><span class="lineno">   17</span>    is.close();</div>
<div class="line"><a id="l00018" name="l00018"></a><span class="lineno">   18</span>  }</div>
<div class="line"><a id="l00019" name="l00019"></a><span class="lineno">   19</span> </div>
<div class="line"><a id="l00020" name="l00020"></a><span class="lineno">   20</span>  <span class="comment">//  Do something with hosts, then...</span></div>
<div class="line"><a id="l00021" name="l00021"></a><span class="lineno">   21</span>  </div>
<div class="line"><a id="l00022" name="l00022"></a><span class="lineno">   22</span>  <span class="comment">//  Save hosts to an ofstream</span></div>
<div class="line"><a id="l00023" name="l00023"></a><span class="lineno">   23</span>  std::ofstream  os(<span class="stringliteral">&quot;/tmp/hosts&quot;</span>);</div>
<div class="line"><a id="l00024" name="l00024"></a><span class="lineno">   24</span>  <span class="keywordflow">if</span> (os) {</div>
<div class="line"><a id="l00025" name="l00025"></a><span class="lineno">   25</span>    <a class="code hl_function" href="classDwm_1_1StreamIO.html#ab4d6d54d455ae181137fb10597b2dfd9">Dwm::StreamIO::Write</a>(os, hosts);</div>
<div class="line"><a id="l00026" name="l00026"></a><span class="lineno">   26</span>    os.close();</div>
<div class="line"><a id="l00027" name="l00027"></a><span class="lineno">   27</span>  }</div>
<div class="line"><a id="l00028" name="l00028"></a><span class="lineno">   28</span> </div>
<div class="line"><a id="l00029" name="l00029"></a><span class="lineno">   29</span>  <span class="keywordflow">return</span> 0;</div>
<div class="line"><a id="l00030" name="l00030"></a><span class="lineno">   30</span>}</div>
<div class="line"><a id="l00031" name="l00031"></a><span class="lineno">   31</span> </div>
<div class="line"><a id="l00032" name="l00032"></a><span class="lineno">   32</span> </div>
<div class="ttc" id="aDwmIpv4Address_8hh_html"><div class="ttname"><a href="DwmIpv4Address_8hh.html">DwmIpv4Address.hh</a></div><div class="ttdoc">Dwm::Ipv4Address class definition.</div></div>
<div class="ttc" id="aDwmStreamIO_8hh_html"><div class="ttname"><a href="DwmStreamIO_8hh.html">DwmStreamIO.hh</a></div><div class="ttdoc">Dwm::StreamIO class declaration.</div></div>
<div class="ttc" id="aclassDwm_1_1StreamIO_html_a53f8175153c0a8a5da8d363cfa23c61a"><div class="ttname"><a href="classDwm_1_1StreamIO.html#a53f8175153c0a8a5da8d363cfa23c61a">Dwm::StreamIO::Read</a></div><div class="ttdeci">static std::istream &amp; Read(std::istream &amp;is, char &amp;c)</div><div class="ttdoc">Reads c from is. Returns is.</div></div>
<div class="ttc" id="aclassDwm_1_1StreamIO_html_ab4d6d54d455ae181137fb10597b2dfd9"><div class="ttname"><a href="classDwm_1_1StreamIO.html#ab4d6d54d455ae181137fb10597b2dfd9">Dwm::StreamIO::Write</a></div><div class="ttdeci">static std::ostream &amp; Write(std::ostream &amp;os, char c)</div><div class="ttdoc">Writes c to os. Returns os.</div></div>
</div><!-- fragment --><p>While this is a trivial example, I've used this functionality in much more complex scenarios. Having this type of functionality in my toolbox has saved me large amounts of development time. It's reasonably flexible without a lot of extra work. No work at all if you're using types already supported. Containers of containers of supported types, for example:</p>
<div class="fragment"><div class="line"><a id="l00001" name="l00001"></a><span class="lineno">    1</span><span class="preprocessor">#include &lt;fstream&gt;</span></div>
<div class="line"><a id="l00002" name="l00002"></a><span class="lineno">    2</span><span class="preprocessor">#include &lt;map&gt;</span></div>
<div class="line"><a id="l00003" name="l00003"></a><span class="lineno">    3</span><span class="preprocessor">#include &lt;set&gt;</span></div>
<div class="line"><a id="l00004" name="l00004"></a><span class="lineno">    4</span><span class="preprocessor">#include &lt;string&gt;</span></div>
<div class="line"><a id="l00005" name="l00005"></a><span class="lineno">    5</span><span class="preprocessor">#include &lt;vector&gt;</span></div>
<div class="line"><a id="l00006" name="l00006"></a><span class="lineno">    6</span> </div>
<div class="line"><a id="l00007" name="l00007"></a><span class="lineno">    7</span><span class="preprocessor">#include &quot;<a class="code" href="DwmStreamIO_8hh.html">DwmStreamIO.hh</a>&quot;</span></div>
<div class="line"><a id="l00008" name="l00008"></a><span class="lineno">    8</span> </div>
<div class="line"><a id="l00009" name="l00009"></a><span class="lineno">    9</span><span class="keyword">using namespace </span>std;</div>
<div class="line"><a id="l00010" name="l00010"></a><span class="lineno">   10</span> </div>
<div class="line"><a id="l00011" name="l00011"></a><span class="lineno">   11</span><span class="keywordtype">int</span> main(<span class="keywordtype">int</span> argc, <span class="keywordtype">char</span> *argv[])</div>
<div class="line"><a id="l00012" name="l00012"></a><span class="lineno">   12</span>{</div>
<div class="line"><a id="l00013" name="l00013"></a><span class="lineno">   13</span>  <span class="keywordflow">if</span> (argc &gt; 2) {</div>
<div class="line"><a id="l00014" name="l00014"></a><span class="lineno">   14</span>    vector&lt;map&lt;string,set&lt;string&gt;&gt;&gt;  data;</div>
<div class="line"><a id="l00015" name="l00015"></a><span class="lineno">   15</span> </div>
<div class="line"><a id="l00016" name="l00016"></a><span class="lineno">   16</span>    <span class="comment">//  Read data from an ifstream</span></div>
<div class="line"><a id="l00017" name="l00017"></a><span class="lineno">   17</span>    ifstream  is(argv[1]);</div>
<div class="line"><a id="l00018" name="l00018"></a><span class="lineno">   18</span>    <span class="keywordflow">if</span> (is) {</div>
<div class="line"><a id="l00019" name="l00019"></a><span class="lineno">   19</span>      <a class="code hl_function" href="classDwm_1_1StreamIO.html#a53f8175153c0a8a5da8d363cfa23c61a">Dwm::StreamIO::Read</a>(is, data);</div>
<div class="line"><a id="l00020" name="l00020"></a><span class="lineno">   20</span>      is.close();</div>
<div class="line"><a id="l00021" name="l00021"></a><span class="lineno">   21</span>    }</div>
<div class="line"><a id="l00022" name="l00022"></a><span class="lineno">   22</span> </div>
<div class="line"><a id="l00023" name="l00023"></a><span class="lineno">   23</span>    <span class="comment">//  Do something with the data...</span></div>
<div class="line"><a id="l00024" name="l00024"></a><span class="lineno">   24</span> </div>
<div class="line"><a id="l00025" name="l00025"></a><span class="lineno">   25</span>    <span class="comment">//  Then save to an ofstream</span></div>
<div class="line"><a id="l00026" name="l00026"></a><span class="lineno">   26</span>    ofstream  os(argv[2]);</div>
<div class="line"><a id="l00027" name="l00027"></a><span class="lineno">   27</span>    <span class="keywordflow">if</span> (os) {</div>
<div class="line"><a id="l00028" name="l00028"></a><span class="lineno">   28</span>      <a class="code hl_function" href="classDwm_1_1StreamIO.html#ab4d6d54d455ae181137fb10597b2dfd9">Dwm::StreamIO::Write</a>(os, data);</div>
<div class="line"><a id="l00029" name="l00029"></a><span class="lineno">   29</span>      os.close();</div>
<div class="line"><a id="l00030" name="l00030"></a><span class="lineno">   30</span>    }</div>
<div class="line"><a id="l00031" name="l00031"></a><span class="lineno">   31</span>  }</div>
<div class="line"><a id="l00032" name="l00032"></a><span class="lineno">   32</span> </div>
<div class="line"><a id="l00033" name="l00033"></a><span class="lineno">   33</span>  <span class="keywordflow">return</span> 0;</div>
<div class="line"><a id="l00034" name="l00034"></a><span class="lineno">   34</span>}</div>
</div><!-- fragment --><p>Since the library handles C++ &lt;tuple&gt;, you can create new data classes and easily add serialization by keeping all of your class's data in a tuple. Below is a trivial contrived example of a phone contact data store. The serialization members required are lines 43 to 49 and 111 to 117. These are easy to implement, since they each require only a single call to a member of an I/O class. Note that I never put <code style="color: #00D;"> &#160;using namespace std </code> in header files. It's here just to reduce clutter on your screen.</p>
<div class="fragment"><div class="line"><a id="l00001" name="l00001"></a><span class="lineno">    1</span><span class="preprocessor">#include &quot;<a class="code" href="DwmDescriptorIO_8hh.html">DwmDescriptorIO.hh</a>&quot;</span></div>
<div class="line"><a id="l00002" name="l00002"></a><span class="lineno">    2</span><span class="preprocessor">#include &quot;<a class="code" href="DwmFileIO_8hh.html">DwmFileIO.hh</a>&quot;</span></div>
<div class="line"><a id="l00003" name="l00003"></a><span class="lineno">    3</span><span class="preprocessor">#include &quot;<a class="code" href="DwmStreamIO_8hh.html">DwmStreamIO.hh</a>&quot;</span></div>
<div class="line"><a id="l00004" name="l00004"></a><span class="lineno">    4</span> </div>
<div class="line"><a id="l00005" name="l00005"></a><span class="lineno">    5</span><span class="keyword">using namespace </span>std;</div>
<div class="line"><a id="l00006" name="l00006"></a><span class="lineno">    6</span> </div>
<div class="line"><a id="l00007" name="l00007"></a><span class="lineno">    7</span><span class="comment">//----------------------------------------------------------------------------</span></div>
<div class="line"><a id="l00008" name="l00008"></a><span class="lineno">    8</span><span class="comment">//----------------------------------------------------------------------------</span></div>
<div class="line"><a id="l00009" name="l00009"></a><span class="lineno">    9</span><span class="keyword">class </span>PhoneContact</div>
<div class="line"><a id="l00010" name="l00010"></a><span class="lineno">   10</span>  : <span class="keyword">public</span> <a class="code hl_class" href="classDwm_1_1StreamReadable.html">Dwm::StreamReadable</a>, <span class="keyword">public</span> <a class="code hl_class" href="classDwm_1_1StreamWritable.html">Dwm::StreamWritable</a>,</div>
<div class="line"><a id="l00011" name="l00011"></a><span class="lineno">   11</span>    <span class="keyword">public</span> <a class="code hl_class" href="classDwm_1_1FileReadable.html">Dwm::FileReadable</a>, <span class="keyword">public</span> <a class="code hl_class" href="classDwm_1_1FileWritable.html">Dwm::FileWritable</a>,</div>
<div class="line"><a id="l00012" name="l00012"></a><span class="lineno">   12</span>    <span class="keyword">public</span> <a class="code hl_class" href="classDwm_1_1DescriptorReadable.html">Dwm::DescriptorReadable</a>, <span class="keyword">public</span> <a class="code hl_class" href="classDwm_1_1DescriptorWritable.html">Dwm::DescriptorWritable</a></div>
<div class="line"><a id="l00013" name="l00013"></a><span class="lineno">   13</span>{</div>
<div class="line"><a id="l00014" name="l00014"></a><span class="lineno">   14</span><span class="keyword">public</span>:</div>
<div class="line"><a id="l00015" name="l00015"></a><span class="lineno">   15</span>  PhoneContact() : _data() { }</div>
<div class="line"><a id="l00016" name="l00016"></a><span class="lineno">   16</span> </div>
<div class="line"><a id="l00017" name="l00017"></a><span class="lineno">   17</span>  <span class="keyword">const</span> <span class="keywordtype">string</span> &amp; FirstName()<span class="keyword"> const  </span>{ <span class="keywordflow">return</span> get&lt;0&gt;(_data); }</div>
<div class="line"><a id="l00018" name="l00018"></a><span class="lineno">   18</span>  <span class="keyword">const</span> <span class="keywordtype">string</span> &amp; FirstName(<span class="keyword">const</span> <span class="keywordtype">string</span> &amp; firstName)</div>
<div class="line"><a id="l00019" name="l00019"></a><span class="lineno">   19</span>  {</div>
<div class="line"><a id="l00020" name="l00020"></a><span class="lineno">   20</span>    get&lt;0&gt;(_data) = firstName;</div>
<div class="line"><a id="l00021" name="l00021"></a><span class="lineno">   21</span>    <span class="keywordflow">return</span> get&lt;0&gt;(_data);</div>
<div class="line"><a id="l00022" name="l00022"></a><span class="lineno">   22</span>  }</div>
<div class="line"><a id="l00023" name="l00023"></a><span class="lineno">   23</span> </div>
<div class="line"><a id="l00024" name="l00024"></a><span class="lineno">   24</span>  <span class="keyword">const</span> <span class="keywordtype">string</span> &amp; LastName()<span class="keyword"> const  </span>{ <span class="keywordflow">return</span> get&lt;1&gt;(_data); }</div>
<div class="line"><a id="l00025" name="l00025"></a><span class="lineno">   25</span>  <span class="keyword">const</span> <span class="keywordtype">string</span> &amp; LastName(<span class="keyword">const</span> <span class="keywordtype">string</span> &amp; lastName)</div>
<div class="line"><a id="l00026" name="l00026"></a><span class="lineno">   26</span>  {</div>
<div class="line"><a id="l00027" name="l00027"></a><span class="lineno">   27</span>    get&lt;1&gt;(_data) = lastName;</div>
<div class="line"><a id="l00028" name="l00028"></a><span class="lineno">   28</span>    <span class="keywordflow">return</span> get&lt;1&gt;(_data);</div>
<div class="line"><a id="l00029" name="l00029"></a><span class="lineno">   29</span>  }</div>
<div class="line"><a id="l00030" name="l00030"></a><span class="lineno">   30</span> </div>
<div class="line"><a id="l00031" name="l00031"></a><span class="lineno">   31</span>  <span class="keyword">const</span> set&lt;pair&lt;string,string&gt; &gt; &amp; PhoneNumbers()<span class="keyword"> const</span></div>
<div class="line"><a id="l00032" name="l00032"></a><span class="lineno">   32</span><span class="keyword">  </span>{ <span class="keywordflow">return</span> get&lt;2&gt;(_data); }</div>
<div class="line"><a id="l00033" name="l00033"></a><span class="lineno">   33</span>  <span class="keywordtype">bool</span> AddPhoneNumber(<span class="keyword">const</span> <span class="keywordtype">string</span> &amp; phoneName,</div>
<div class="line"><a id="l00034" name="l00034"></a><span class="lineno">   34</span>                      <span class="keyword">const</span> <span class="keywordtype">string</span> &amp; phoneNumber)</div>
<div class="line"><a id="l00035" name="l00035"></a><span class="lineno">   35</span>  {</div>
<div class="line"><a id="l00036" name="l00036"></a><span class="lineno">   36</span>    pair&lt;string,string&gt;  phone(phoneName, phoneNumber);</div>
<div class="line"><a id="l00037" name="l00037"></a><span class="lineno">   37</span>    <span class="keywordflow">return</span> get&lt;2&gt;(_data).insert(phone).second;</div>
<div class="line"><a id="l00038" name="l00038"></a><span class="lineno">   38</span>  }</div>
<div class="line"><a id="l00039" name="l00039"></a><span class="lineno">   39</span> </div>
<div class="line"><a id="l00040" name="l00040"></a><span class="lineno">   40</span>  <span class="keywordtype">bool</span> RemovePhoneNumber(<span class="keyword">const</span> <span class="keywordtype">string</span> &amp; phoneName,</div>
<div class="line"><a id="l00041" name="l00041"></a><span class="lineno">   41</span>                         <span class="keyword">const</span> <span class="keywordtype">string</span> &amp; phoneNumber)</div>
<div class="line"><a id="l00042" name="l00042"></a><span class="lineno">   42</span>  {</div>
<div class="line"><a id="l00043" name="l00043"></a><span class="lineno">   43</span>    pair&lt;string,string&gt;  phone(phoneName, phoneNumber);</div>
<div class="line"><a id="l00044" name="l00044"></a><span class="lineno">   44</span>    <span class="keywordflow">return</span> (get&lt;2&gt;(_data).erase(phone) == 1);</div>
<div class="line"><a id="l00045" name="l00045"></a><span class="lineno">   45</span>  }</div>
<div class="line"><a id="l00046" name="l00046"></a><span class="lineno">   46</span>  </div>
<div class="line"><a id="l00047" name="l00047"></a><span class="lineno">   47</span>  istream &amp; <a class="code hl_function" href="classDwm_1_1StreamReadable.html#a8337a0949e0ce4458f18884d00eb5153">Read</a>(istream &amp; is) { <span class="keywordflow">return</span> <a class="code hl_function" href="classDwm_1_1StreamIO.html#a53f8175153c0a8a5da8d363cfa23c61a">Dwm::StreamIO::Read</a>(is, _data); }</div>
<div class="line"><a id="l00048" name="l00048"></a><span class="lineno">   48</span>  ostream &amp; <a class="code hl_function" href="classDwm_1_1StreamWritable.html#a66994f2c5fbf07308b6b766f9774d079">Write</a>(ostream &amp; os)<span class="keyword"> const </span>{ <span class="keywordflow">return</span> <a class="code hl_function" href="classDwm_1_1StreamIO.html#ab4d6d54d455ae181137fb10597b2dfd9">Dwm::StreamIO::Write</a>(os, _data); }</div>
<div class="line"><a id="l00049" name="l00049"></a><span class="lineno">   49</span>  ssize_t <a class="code hl_function" href="classDwm_1_1StreamReadable.html#a8337a0949e0ce4458f18884d00eb5153">Read</a>(<span class="keywordtype">int</span> fd)             { <span class="keywordflow">return</span> <a class="code hl_function" href="classDwm_1_1DescriptorIO.html#a8677ae5fb9962f022fc05f0e34fccc8c">Dwm::DescriptorIO::Read</a>(fd, _data); }</div>
<div class="line"><a id="l00050" name="l00050"></a><span class="lineno">   50</span>  ssize_t <a class="code hl_function" href="classDwm_1_1StreamWritable.html#a66994f2c5fbf07308b6b766f9774d079">Write</a>(<span class="keywordtype">int</span> fd)<span class="keyword"> const      </span>{ <span class="keywordflow">return</span> <a class="code hl_function" href="classDwm_1_1DescriptorIO.html#a6e3889dd0928fe283cbfa2f5eedcc5be">Dwm::DescriptorIO::Write</a>(fd, _data); }</div>
<div class="line"><a id="l00051" name="l00051"></a><span class="lineno">   51</span>  <span class="keywordtype">size_t</span> <a class="code hl_function" href="classDwm_1_1StreamReadable.html#a8337a0949e0ce4458f18884d00eb5153">Read</a>(FILE *f)             { <span class="keywordflow">return</span> <a class="code hl_function" href="classDwm_1_1FileIO.html#ab7126329d196524c0795783e38634f75">Dwm::FileIO::Read</a>(f, _data); }</div>
<div class="line"><a id="l00052" name="l00052"></a><span class="lineno">   52</span>  <span class="keywordtype">size_t</span> <a class="code hl_function" href="classDwm_1_1StreamWritable.html#a66994f2c5fbf07308b6b766f9774d079">Write</a>(FILE *f)<span class="keyword"> const      </span>{ <span class="keywordflow">return</span> <a class="code hl_function" href="classDwm_1_1FileIO.html#a4dc8fcff4f20a42b409f1dacac8df3e5">Dwm::FileIO::Write</a>(f, _data); }</div>
<div class="line"><a id="l00053" name="l00053"></a><span class="lineno">   53</span> </div>
<div class="line"><a id="l00054" name="l00054"></a><span class="lineno">   54</span><span class="keyword">private</span>:</div>
<div class="line"><a id="l00055" name="l00055"></a><span class="lineno">   55</span>  tuple&lt;string,                     <span class="comment">// first name</span></div>
<div class="line"><a id="l00056" name="l00056"></a><span class="lineno">   56</span>        string,                     <span class="comment">// last name</span></div>
<div class="line"><a id="l00057" name="l00057"></a><span class="lineno">   57</span>        set&lt;pair&lt;string,string&gt; &gt;   <span class="comment">// phone numbers</span></div>
<div class="line"><a id="l00058" name="l00058"></a><span class="lineno">   58</span>        &gt; _data;</div>
<div class="line"><a id="l00059" name="l00059"></a><span class="lineno">   59</span>};</div>
<div class="line"><a id="l00060" name="l00060"></a><span class="lineno">   60</span> </div>
<div class="line"><a id="l00061" name="l00061"></a><span class="lineno">   61</span><span class="comment">//----------------------------------------------------------------------------</span></div>
<div class="line"><a id="l00062" name="l00062"></a><span class="lineno">   62</span><span class="comment">//----------------------------------------------------------------------------</span></div>
<div class="line"><a id="l00063" name="l00063"></a><span class="lineno">   63</span><span class="keyword">class </span>PhoneContacts</div>
<div class="line"><a id="l00064" name="l00064"></a><span class="lineno">   64</span>  : <span class="keyword">public</span> <a class="code hl_class" href="classDwm_1_1StreamReadable.html">Dwm::StreamReadable</a>, <span class="keyword">public</span> <a class="code hl_class" href="classDwm_1_1StreamWritable.html">Dwm::StreamWritable</a>,</div>
<div class="line"><a id="l00065" name="l00065"></a><span class="lineno">   65</span>    <span class="keyword">public</span> <a class="code hl_class" href="classDwm_1_1FileReadable.html">Dwm::FileReadable</a>, <span class="keyword">public</span> <a class="code hl_class" href="classDwm_1_1FileWritable.html">Dwm::FileWritable</a>,</div>
<div class="line"><a id="l00066" name="l00066"></a><span class="lineno">   66</span>    <span class="keyword">public</span> <a class="code hl_class" href="classDwm_1_1DescriptorReadable.html">Dwm::DescriptorReadable</a>, <span class="keyword">public</span> <a class="code hl_class" href="classDwm_1_1DescriptorWritable.html">Dwm::DescriptorWritable</a></div>
<div class="line"><a id="l00067" name="l00067"></a><span class="lineno">   67</span>{</div>
<div class="line"><a id="l00068" name="l00068"></a><span class="lineno">   68</span><span class="keyword">public</span>:</div>
<div class="line"><a id="l00069" name="l00069"></a><span class="lineno">   69</span>  PhoneContacts() : _contacts() { }</div>
<div class="line"><a id="l00070" name="l00070"></a><span class="lineno">   70</span> </div>
<div class="line"><a id="l00071" name="l00071"></a><span class="lineno">   71</span>  <span class="keywordtype">bool</span> AddContact(<span class="keyword">const</span> PhoneContact &amp; contact)</div>
<div class="line"><a id="l00072" name="l00072"></a><span class="lineno">   72</span>  {</div>
<div class="line"><a id="l00073" name="l00073"></a><span class="lineno">   73</span>    <span class="keywordtype">bool</span>  rc = <span class="keyword">false</span>;</div>
<div class="line"><a id="l00074" name="l00074"></a><span class="lineno">   74</span>    <span class="keywordtype">string</span>  fullName(contact.FirstName() + <span class="stringliteral">&quot; &quot;</span> + contact.LastName());</div>
<div class="line"><a id="l00075" name="l00075"></a><span class="lineno">   75</span>    <span class="keyword">auto</span>  it = _contacts.find(fullName);</div>
<div class="line"><a id="l00076" name="l00076"></a><span class="lineno">   76</span>    <span class="keywordflow">if</span> (it == _contacts.end()) {</div>
<div class="line"><a id="l00077" name="l00077"></a><span class="lineno">   77</span>      _contacts[fullName] = contact;</div>
<div class="line"><a id="l00078" name="l00078"></a><span class="lineno">   78</span>      rc = <span class="keyword">true</span>;</div>
<div class="line"><a id="l00079" name="l00079"></a><span class="lineno">   79</span>    }</div>
<div class="line"><a id="l00080" name="l00080"></a><span class="lineno">   80</span>    <span class="keywordflow">return</span> rc;</div>
<div class="line"><a id="l00081" name="l00081"></a><span class="lineno">   81</span>  }</div>
<div class="line"><a id="l00082" name="l00082"></a><span class="lineno">   82</span>  </div>
<div class="line"><a id="l00083" name="l00083"></a><span class="lineno">   83</span>  <span class="keywordtype">bool</span> MatchesByEitherName(<span class="keyword">const</span> <span class="keywordtype">string</span> &amp; name,</div>
<div class="line"><a id="l00084" name="l00084"></a><span class="lineno">   84</span>                           vector&lt;PhoneContact&gt; &amp; matches)<span class="keyword"> const</span></div>
<div class="line"><a id="l00085" name="l00085"></a><span class="lineno">   85</span><span class="keyword">  </span>{</div>
<div class="line"><a id="l00086" name="l00086"></a><span class="lineno">   86</span>    <span class="keywordflow">if</span> (! matches.empty()) {</div>
<div class="line"><a id="l00087" name="l00087"></a><span class="lineno">   87</span>      matches.clear();</div>
<div class="line"><a id="l00088" name="l00088"></a><span class="lineno">   88</span>    }</div>
<div class="line"><a id="l00089" name="l00089"></a><span class="lineno">   89</span>    <span class="keywordflow">for</span> (<span class="keyword">auto</span> i : _contacts) {</div>
<div class="line"><a id="l00090" name="l00090"></a><span class="lineno">   90</span>      <span class="keywordflow">if</span> ((i.second.FirstName() == name)</div>
<div class="line"><a id="l00091" name="l00091"></a><span class="lineno">   91</span>          || (i.second.LastName() == name)) {</div>
<div class="line"><a id="l00092" name="l00092"></a><span class="lineno">   92</span>        matches.push_back(i.second);</div>
<div class="line"><a id="l00093" name="l00093"></a><span class="lineno">   93</span>      }</div>
<div class="line"><a id="l00094" name="l00094"></a><span class="lineno">   94</span>    }</div>
<div class="line"><a id="l00095" name="l00095"></a><span class="lineno">   95</span>    <span class="keywordflow">return</span> (! matches.empty());</div>
<div class="line"><a id="l00096" name="l00096"></a><span class="lineno">   96</span>  }</div>
<div class="line"><a id="l00097" name="l00097"></a><span class="lineno">   97</span> </div>
<div class="line"><a id="l00098" name="l00098"></a><span class="lineno">   98</span>  <span class="keywordtype">bool</span> MatchByFullName(<span class="keyword">const</span> <span class="keywordtype">string</span> &amp; firstName, <span class="keyword">const</span> <span class="keywordtype">string</span> &amp; lastName,</div>
<div class="line"><a id="l00099" name="l00099"></a><span class="lineno">   99</span>                       PhoneContact &amp; match)</div>
<div class="line"><a id="l00100" name="l00100"></a><span class="lineno">  100</span>  {</div>
<div class="line"><a id="l00101" name="l00101"></a><span class="lineno">  101</span>    <span class="keywordtype">bool</span>  rc = <span class="keyword">false</span>;</div>
<div class="line"><a id="l00102" name="l00102"></a><span class="lineno">  102</span>    <span class="keywordflow">for</span> (<span class="keyword">auto</span> i : _contacts) {</div>
<div class="line"><a id="l00103" name="l00103"></a><span class="lineno">  103</span>      <span class="keywordflow">if</span> ((i.second.FirstName() == firstName)</div>
<div class="line"><a id="l00104" name="l00104"></a><span class="lineno">  104</span>          &amp;&amp; (i.second.LastName() == lastName)) {</div>
<div class="line"><a id="l00105" name="l00105"></a><span class="lineno">  105</span>        match = i.second;</div>
<div class="line"><a id="l00106" name="l00106"></a><span class="lineno">  106</span>        rc = <span class="keyword">true</span>;</div>
<div class="line"><a id="l00107" name="l00107"></a><span class="lineno">  107</span>        <span class="keywordflow">break</span>;</div>
<div class="line"><a id="l00108" name="l00108"></a><span class="lineno">  108</span>      }</div>
<div class="line"><a id="l00109" name="l00109"></a><span class="lineno">  109</span>    }</div>
<div class="line"><a id="l00110" name="l00110"></a><span class="lineno">  110</span>    <span class="keywordflow">return</span> rc;</div>
<div class="line"><a id="l00111" name="l00111"></a><span class="lineno">  111</span>  }</div>
<div class="line"><a id="l00112" name="l00112"></a><span class="lineno">  112</span> </div>
<div class="line"><a id="l00113" name="l00113"></a><span class="lineno">  113</span>  <span class="keyword">const</span> map&lt;string,PhoneContact&gt; &amp; Contacts()<span class="keyword"> const  </span>{ <span class="keywordflow">return</span> _contacts; }</div>
<div class="line"><a id="l00114" name="l00114"></a><span class="lineno">  114</span>  map&lt;string,PhoneContact&gt; &amp; Contacts() { <span class="keywordflow">return</span> _contacts; }</div>
<div class="line"><a id="l00115" name="l00115"></a><span class="lineno">  115</span>    </div>
<div class="line"><a id="l00116" name="l00116"></a><span class="lineno">  116</span>  istream &amp; <a class="code hl_function" href="classDwm_1_1StreamReadable.html#a8337a0949e0ce4458f18884d00eb5153">Read</a>(istream &amp; is) { <span class="keywordflow">return</span> <a class="code hl_function" href="classDwm_1_1StreamIO.html#a53f8175153c0a8a5da8d363cfa23c61a">Dwm::StreamIO::Read</a>(is, _contacts); }</div>
<div class="line"><a id="l00117" name="l00117"></a><span class="lineno">  117</span>  ostream &amp; <a class="code hl_function" href="classDwm_1_1StreamWritable.html#a66994f2c5fbf07308b6b766f9774d079">Write</a>(ostream &amp; os)<span class="keyword"> const </span>{ <span class="keywordflow">return</span> <a class="code hl_function" href="classDwm_1_1StreamIO.html#ab4d6d54d455ae181137fb10597b2dfd9">Dwm::StreamIO::Write</a>(os, _contacts); }</div>
<div class="line"><a id="l00118" name="l00118"></a><span class="lineno">  118</span>  ssize_t <a class="code hl_function" href="classDwm_1_1StreamReadable.html#a8337a0949e0ce4458f18884d00eb5153">Read</a>(<span class="keywordtype">int</span> fd)             { <span class="keywordflow">return</span> <a class="code hl_function" href="classDwm_1_1DescriptorIO.html#a8677ae5fb9962f022fc05f0e34fccc8c">Dwm::DescriptorIO::Read</a>(fd, _contacts); }</div>
<div class="line"><a id="l00119" name="l00119"></a><span class="lineno">  119</span>  ssize_t <a class="code hl_function" href="classDwm_1_1StreamWritable.html#a66994f2c5fbf07308b6b766f9774d079">Write</a>(<span class="keywordtype">int</span> fd)<span class="keyword"> const      </span>{ <span class="keywordflow">return</span> <a class="code hl_function" href="classDwm_1_1DescriptorIO.html#a6e3889dd0928fe283cbfa2f5eedcc5be">Dwm::DescriptorIO::Write</a>(fd, _contacts); }</div>
<div class="line"><a id="l00120" name="l00120"></a><span class="lineno">  120</span>  <span class="keywordtype">size_t</span> <a class="code hl_function" href="classDwm_1_1StreamReadable.html#a8337a0949e0ce4458f18884d00eb5153">Read</a>(FILE *f)             { <span class="keywordflow">return</span> <a class="code hl_function" href="classDwm_1_1FileIO.html#ab7126329d196524c0795783e38634f75">Dwm::FileIO::Read</a>(f, _contacts); }</div>
<div class="line"><a id="l00121" name="l00121"></a><span class="lineno">  121</span>  <span class="keywordtype">size_t</span> <a class="code hl_function" href="classDwm_1_1StreamWritable.html#a66994f2c5fbf07308b6b766f9774d079">Write</a>(FILE *f)<span class="keyword"> const      </span>{ <span class="keywordflow">return</span> <a class="code hl_function" href="classDwm_1_1FileIO.html#a4dc8fcff4f20a42b409f1dacac8df3e5">Dwm::FileIO::Write</a>(f, _contacts); }</div>
<div class="line"><a id="l00122" name="l00122"></a><span class="lineno">  122</span> </div>
<div class="line"><a id="l00123" name="l00123"></a><span class="lineno">  123</span><span class="keyword">private</span>:</div>
<div class="line"><a id="l00124" name="l00124"></a><span class="lineno">  124</span>  map&lt;string,PhoneContact&gt;  _contacts;</div>
<div class="line"><a id="l00125" name="l00125"></a><span class="lineno">  125</span>};</div>
<div class="line"><a id="l00126" name="l00126"></a><span class="lineno">  126</span> </div>
<div class="ttc" id="aDwmDescriptorIO_8hh_html"><div class="ttname"><a href="DwmDescriptorIO_8hh.html">DwmDescriptorIO.hh</a></div><div class="ttdoc">Dwm::DescriptorIO class declaration.</div></div>
<div class="ttc" id="aDwmFileIO_8hh_html"><div class="ttname"><a href="DwmFileIO_8hh.html">DwmFileIO.hh</a></div><div class="ttdoc">Dwm::FileIO class declaration.</div></div>
<div class="ttc" id="aclassDwm_1_1DescriptorIO_html_a6e3889dd0928fe283cbfa2f5eedcc5be"><div class="ttname"><a href="classDwm_1_1DescriptorIO.html#a6e3889dd0928fe283cbfa2f5eedcc5be">Dwm::DescriptorIO::Write</a></div><div class="ttdeci">static ssize_t Write(int fd, char c)</div><div class="ttdoc">Writes c to fd.</div></div>
<div class="ttc" id="aclassDwm_1_1DescriptorIO_html_a8677ae5fb9962f022fc05f0e34fccc8c"><div class="ttname"><a href="classDwm_1_1DescriptorIO.html#a8677ae5fb9962f022fc05f0e34fccc8c">Dwm::DescriptorIO::Read</a></div><div class="ttdeci">static ssize_t Read(int fd, char &amp;c)</div><div class="ttdoc">Reads c from fd.</div></div>
<div class="ttc" id="aclassDwm_1_1DescriptorReadable_html"><div class="ttname"><a href="classDwm_1_1DescriptorReadable.html">Dwm::DescriptorReadable</a></div><div class="ttdoc">This class defines an interface for classes that can read their contents from a file descriptor.</div><div class="ttdef"><b>Definition</b> DwmDescriptorIOCapable.hh:59</div></div>
<div class="ttc" id="aclassDwm_1_1DescriptorWritable_html"><div class="ttname"><a href="classDwm_1_1DescriptorWritable.html">Dwm::DescriptorWritable</a></div><div class="ttdoc">This class defines an interface for classes that can write their contents to a file descriptor.</div><div class="ttdef"><b>Definition</b> DwmDescriptorIOCapable.hh:78</div></div>
<div class="ttc" id="aclassDwm_1_1FileIO_html_a4dc8fcff4f20a42b409f1dacac8df3e5"><div class="ttname"><a href="classDwm_1_1FileIO.html#a4dc8fcff4f20a42b409f1dacac8df3e5">Dwm::FileIO::Write</a></div><div class="ttdeci">static size_t Write(FILE *f, char c)</div><div class="ttdoc">Writes c to f.</div></div>
<div class="ttc" id="aclassDwm_1_1FileIO_html_ab7126329d196524c0795783e38634f75"><div class="ttname"><a href="classDwm_1_1FileIO.html#ab7126329d196524c0795783e38634f75">Dwm::FileIO::Read</a></div><div class="ttdeci">static size_t Read(FILE *f, char &amp;c)</div><div class="ttdoc">Reads c from f.</div></div>
<div class="ttc" id="aclassDwm_1_1FileReadable_html"><div class="ttname"><a href="classDwm_1_1FileReadable.html">Dwm::FileReadable</a></div><div class="ttdoc">This class defines an interface for classes that can read their contents from a FILE pointer.</div><div class="ttdef"><b>Definition</b> DwmFileIOCapable.hh:54</div></div>
<div class="ttc" id="aclassDwm_1_1FileWritable_html"><div class="ttname"><a href="classDwm_1_1FileWritable.html">Dwm::FileWritable</a></div><div class="ttdoc">This class defines an interface for classes that can write their contents to a FILE pointer.</div><div class="ttdef"><b>Definition</b> DwmFileIOCapable.hh:73</div></div>
<div class="ttc" id="aclassDwm_1_1StreamReadable_html"><div class="ttname"><a href="classDwm_1_1StreamReadable.html">Dwm::StreamReadable</a></div><div class="ttdoc">This class defines an interface for classes that can read their contents from an istream.</div><div class="ttdef"><b>Definition</b> DwmStreamIOCapable.hh:55</div></div>
<div class="ttc" id="aclassDwm_1_1StreamReadable_html_a8337a0949e0ce4458f18884d00eb5153"><div class="ttname"><a href="classDwm_1_1StreamReadable.html#a8337a0949e0ce4458f18884d00eb5153">Dwm::StreamReadable::Read</a></div><div class="ttdeci">virtual std::istream &amp; Read(std::istream &amp;is)=0</div><div class="ttdoc">Read from an istream. Return the istream.</div></div>
<div class="ttc" id="aclassDwm_1_1StreamWritable_html"><div class="ttname"><a href="classDwm_1_1StreamWritable.html">Dwm::StreamWritable</a></div><div class="ttdoc">This class defines an interface for classes that can write their contents to an ostream.</div><div class="ttdef"><b>Definition</b> DwmStreamIOCapable.hh:73</div></div>
<div class="ttc" id="aclassDwm_1_1StreamWritable_html_a66994f2c5fbf07308b6b766f9774d079"><div class="ttname"><a href="classDwm_1_1StreamWritable.html#a66994f2c5fbf07308b6b766f9774d079">Dwm::StreamWritable::Write</a></div><div class="ttdeci">virtual std::ostream &amp; Write(std::ostream &amp;os) const =0</div><div class="ttdoc">Write to an ostream. Return the ostream.</div></div>
</div><!-- fragment --><p>The astute observer will notice that the PhoneContact class is just a wrapper around a <code>std::tuple</code>, to avoid having to use std::get&lt;&gt;() directly from application code outside of this class. If you're willing to deal directly with std::get&lt;&gt;(), you can just do this:</p>
<div class="fragment"><div class="line"><span class="keyword">typedef</span> std::tuple&lt;std::string,std::string,std::pair&lt;std::string,std::string&gt; &gt; &gt;  PhoneContact; </div>
</div><!-- fragment --> <div class="fragment"><div class="line"><span class="keyword">typedef</span> std::map&lt;std::string,PhoneContact&gt;  PhoneContacts; </div>
</div><!-- fragment --><h2><a class="anchor" id="dwm_unitassert_sec"></a>
UnitAssert - A trivial unit testing framework</h2>
<p>In <a class="el" href="DwmUnitAssert_8hh.html" title="Dwm::Assertions class definition and UnitAssert() macro for unit tests.">DwmUnitAssert.hh</a> you will find the <a class="el" href="DwmUnitAssert_8hh.html#ac6ef8a61e8418d80847517047c2c8958" title="This macro is used just like assert(), but populates Assertions so we can report results at the end o...">UnitAssert()</a> macro and a handful of support classes for unit testing. This trivial framework makes simple unit testing easy to accomplish for all exposed interfaces. This framework is used for all of the unit tests in the <code>tests</code> subdirectory of the libDwm source distribution, and you can look there for many examples. But its basic usage is trivial and typically boils down to just three calls: the <a class="el" href="DwmUnitAssert_8hh.html#ac6ef8a61e8418d80847517047c2c8958" title="This macro is used just like assert(), but populates Assertions so we can report results at the end o...">UnitAssert()</a> macro to assert conditions that must be true (just like <code>assert()</code> from the standard C library), and a call to <a class="el" href="classDwm_1_1Assertions.html#a5dd5acb0323c5153dd857dee7e422503" title="Prints to an ostream.">Dwm::Assertions::Print()</a> at the end of your test program that is typically wrapped in test of the return of <a class="el" href="classDwm_1_1Assertions.html#a768887cf3691ef3cd6da82d2a74b7729" title="Returns the total passed and failed counter.">Dwm::Assertions::Total()</a>.Failed().</p>
<p>Below is the entire contents of TestGroup.cc from the <code>tests</code> directory of the libDwm source distribution. You will see calls to <a class="el" href="DwmUnitAssert_8hh.html#ac6ef8a61e8418d80847517047c2c8958" title="This macro is used just like assert(), but populates Assertions so we can report results at the end o...">UnitAssert()</a> on lines 16, 21, 26, 27 and 28. On line 30, we check if there were any failed tests via <a class="el" href="classDwm_1_1Assertions.html#a768887cf3691ef3cd6da82d2a74b7729" title="Returns the total passed and failed counter.">Dwm::Assertions::Total()</a>.Failed(). If there were, we print them with <a class="el" href="classDwm_1_1Assertions.html#a5dd5acb0323c5153dd857dee7e422503" title="Prints to an ostream.">Dwm::Assertions::Print()</a>. If there were no failed tests, we pring the total number of tests (which all passed).</p>
<div class="fragment"><div class="line"><a id="l00001" name="l00001"></a><span class="lineno">    1</span><span class="keyword">extern</span> <span class="stringliteral">&quot;C&quot;</span> {</div>
<div class="line"><a id="l00002" name="l00002"></a><span class="lineno">    2</span><span class="preprocessor">  #include &lt;unistd.h&gt;</span></div>
<div class="line"><a id="l00003" name="l00003"></a><span class="lineno">    3</span>}</div>
<div class="line"><a id="l00004" name="l00004"></a><span class="lineno">    4</span> </div>
<div class="line"><a id="l00005" name="l00005"></a><span class="lineno">    5</span><span class="preprocessor">#include &quot;<a class="code" href="DwmGroup_8hh.html">DwmGroup.hh</a>&quot;</span></div>
<div class="line"><a id="l00006" name="l00006"></a><span class="lineno">    6</span><span class="preprocessor">#include &quot;<a class="code" href="DwmPassword_8hh.html">DwmPassword.hh</a>&quot;</span></div>
<div class="line"><a id="l00007" name="l00007"></a><span class="lineno">    7</span><span class="preprocessor">#include &quot;<a class="code" href="DwmUnitAssert_8hh.html">DwmUnitAssert.hh</a>&quot;</span></div>
<div class="line"><a id="l00008" name="l00008"></a><span class="lineno">    8</span> </div>
<div class="line"><a id="l00009" name="l00009"></a><span class="lineno">    9</span><span class="comment">//----------------------------------------------------------------------------</span></div>
<div class="line"><a id="l00011" name="l00011"></a><span class="lineno">   11</span><span class="comment">//----------------------------------------------------------------------------</span></div>
<div class="line"><a id="l00012" name="l00012"></a><span class="lineno">   12</span><span class="keywordtype">int</span> main(<span class="keywordtype">int</span> argc, <span class="keywordtype">char</span> *argv[])</div>
<div class="line"><a id="l00013" name="l00013"></a><span class="lineno">   13</span>{</div>
<div class="line"><a id="l00014" name="l00014"></a><span class="lineno">   14</span>  gid_t  mygid = getegid();</div>
<div class="line"><a id="l00015" name="l00015"></a><span class="lineno">   15</span>  <a class="code hl_class" href="classDwm_1_1Group.html">Dwm::Group</a>  mygroup(mygid);</div>
<div class="line"><a id="l00016" name="l00016"></a><span class="lineno">   16</span>  <a class="code hl_define" href="DwmUnitAssert_8hh.html#ac6ef8a61e8418d80847517047c2c8958">UnitAssert</a>(mygid == mygroup.Id());</div>
<div class="line"><a id="l00017" name="l00017"></a><span class="lineno">   17</span> </div>
<div class="line"><a id="l00018" name="l00018"></a><span class="lineno">   18</span>  <a class="code hl_class" href="classDwm_1_1Password.html">Dwm::Password</a>  mypasswd(geteuid());</div>
<div class="line"><a id="l00019" name="l00019"></a><span class="lineno">   19</span>  <span class="keyword">auto</span>  gmit = std::find(mygroup.Members().begin(), mygroup.Members().end(),</div>
<div class="line"><a id="l00020" name="l00020"></a><span class="lineno">   20</span>                         mypasswd.UserName());</div>
<div class="line"><a id="l00021" name="l00021"></a><span class="lineno">   21</span>  <a class="code hl_define" href="DwmUnitAssert_8hh.html#ac6ef8a61e8418d80847517047c2c8958">UnitAssert</a>(gmit != mygroup.Members().end());</div>
<div class="line"><a id="l00022" name="l00022"></a><span class="lineno">   22</span> </div>
<div class="line"><a id="l00023" name="l00023"></a><span class="lineno">   23</span>  <span class="keyword">struct </span>group  *grp = getgrgid(mygid);</div>
<div class="line"><a id="l00024" name="l00024"></a><span class="lineno">   24</span>  <a class="code hl_class" href="classDwm_1_1Group.html">Dwm::Group</a>     setGroup(getgid());</div>
<div class="line"><a id="l00025" name="l00025"></a><span class="lineno">   25</span>  setGroup.Set(*grp);</div>
<div class="line"><a id="l00026" name="l00026"></a><span class="lineno">   26</span>  <a class="code hl_define" href="DwmUnitAssert_8hh.html#ac6ef8a61e8418d80847517047c2c8958">UnitAssert</a>(setGroup.Id() == grp-&gt;gr_gid);</div>
<div class="line"><a id="l00027" name="l00027"></a><span class="lineno">   27</span>  <a class="code hl_define" href="DwmUnitAssert_8hh.html#ac6ef8a61e8418d80847517047c2c8958">UnitAssert</a>(setGroup.Name() == grp-&gt;gr_name);</div>
<div class="line"><a id="l00028" name="l00028"></a><span class="lineno">   28</span>  <a class="code hl_define" href="DwmUnitAssert_8hh.html#ac6ef8a61e8418d80847517047c2c8958">UnitAssert</a>(setGroup.Password() == grp-&gt;gr_passwd);</div>
<div class="line"><a id="l00029" name="l00029"></a><span class="lineno">   29</span>  </div>
<div class="line"><a id="l00030" name="l00030"></a><span class="lineno">   30</span>  <span class="keywordflow">if</span> (<a class="code hl_function" href="classDwm_1_1Assertions.html#a768887cf3691ef3cd6da82d2a74b7729">Dwm::Assertions::Total</a>().Failed() &gt; 0) {</div>
<div class="line"><a id="l00031" name="l00031"></a><span class="lineno">   31</span>    <a class="code hl_function" href="classDwm_1_1Assertions.html#a5dd5acb0323c5153dd857dee7e422503">Dwm::Assertions::Print</a>(std::cerr, <span class="keyword">true</span>);</div>
<div class="line"><a id="l00032" name="l00032"></a><span class="lineno">   32</span>    exit(1);</div>
<div class="line"><a id="l00033" name="l00033"></a><span class="lineno">   33</span>  }</div>
<div class="line"><a id="l00034" name="l00034"></a><span class="lineno">   34</span>  <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l00035" name="l00035"></a><span class="lineno">   35</span>    std::cout &lt;&lt; <a class="code hl_function" href="classDwm_1_1Assertions.html#a768887cf3691ef3cd6da82d2a74b7729">Dwm::Assertions::Total</a>() &lt;&lt; <span class="stringliteral">&quot; passed&quot;</span> &lt;&lt; std::endl;</div>
<div class="line"><a id="l00036" name="l00036"></a><span class="lineno">   36</span>  }</div>
<div class="line"><a id="l00037" name="l00037"></a><span class="lineno">   37</span>  exit(0);</div>
<div class="line"><a id="l00038" name="l00038"></a><span class="lineno">   38</span>}</div>
<div class="ttc" id="aDwmGroup_8hh_html"><div class="ttname"><a href="DwmGroup_8hh.html">DwmGroup.hh</a></div><div class="ttdoc">Dwm::Group class definition.</div></div>
<div class="ttc" id="aDwmPassword_8hh_html"><div class="ttname"><a href="DwmPassword_8hh.html">DwmPassword.hh</a></div><div class="ttdoc">Dwm::Password class definition.</div></div>
<div class="ttc" id="aDwmUnitAssert_8hh_html"><div class="ttname"><a href="DwmUnitAssert_8hh.html">DwmUnitAssert.hh</a></div><div class="ttdoc">Dwm::Assertions class definition and UnitAssert() macro for unit tests.</div></div>
<div class="ttc" id="aDwmUnitAssert_8hh_html_ac6ef8a61e8418d80847517047c2c8958"><div class="ttname"><a href="DwmUnitAssert_8hh.html#ac6ef8a61e8418d80847517047c2c8958">UnitAssert</a></div><div class="ttdeci">#define UnitAssert(e)</div><div class="ttdoc">This macro is used just like assert(), but populates Assertions so we can report results at the end o...</div><div class="ttdef"><b>Definition</b> DwmUnitAssert.hh:303</div></div>
<div class="ttc" id="aclassDwm_1_1Assertions_html_a5dd5acb0323c5153dd857dee7e422503"><div class="ttname"><a href="classDwm_1_1Assertions.html#a5dd5acb0323c5153dd857dee7e422503">Dwm::Assertions::Print</a></div><div class="ttdeci">static std::ostream &amp; Print(std::ostream &amp;os, bool onlyFailed=false)</div><div class="ttdoc">Prints to an ostream.</div></div>
<div class="ttc" id="aclassDwm_1_1Assertions_html_a768887cf3691ef3cd6da82d2a74b7729"><div class="ttname"><a href="classDwm_1_1Assertions.html#a768887cf3691ef3cd6da82d2a74b7729">Dwm::Assertions::Total</a></div><div class="ttdeci">static AssertionCounter Total()</div><div class="ttdoc">Returns the total passed and failed counter.</div></div>
<div class="ttc" id="aclassDwm_1_1Group_html"><div class="ttname"><a href="classDwm_1_1Group.html">Dwm::Group</a></div><div class="ttdoc">Encapsulates an /etc/group entry.</div><div class="ttdef"><b>Definition</b> DwmGroup.hh:61</div></div>
<div class="ttc" id="aclassDwm_1_1Password_html"><div class="ttname"><a href="classDwm_1_1Password.html">Dwm::Password</a></div><div class="ttdoc">Encapsulates an /etc/passwd entry.</div><div class="ttdef"><b>Definition</b> DwmPassword.hh:61</div></div>
</div><!-- fragment --><h2><a class="anchor" id="dwm_sylogger_sec"></a>
Dwm::SysLogger - decorated syslogging</h2>
<p>The intent of <a class="el" href="classDwm_1_1SysLogger.html" title="This class encapsulates syslog logging in global scope (all members are static).">Dwm::SysLogger</a> and the <a class="el" href="DwmSysLogger_8hh.html#a7fd0cf2c423c73ded4f5e1332b570ea7" title="Used just like syslog(), but calls Dwm::SysLogger::Log() to allow the filename, line number and funct...">Syslog()</a> macro is to allow the automatic addition of filename, line number and syslog priority to syslog messages. No one in their right mind wants to have to add <code>"(%s:%d)", __FILE__, __LINE__</code> to every syslog call in their source code. It's inane work and prone to mistakes. <a class="el" href="DwmSysLogger_8hh.html#a7fd0cf2c423c73ded4f5e1332b570ea7" title="Used just like syslog(), but calls Dwm::SysLogger::Log() to allow the filename, line number and funct...">Syslog()</a> can do this for you if you enable it with <a class="el" href="classDwm_1_1SysLogger.html#adb560ed31f6b40e19c26cc4d25990189" title="If showFileLocation is true, the logger will show the file and line number information in each log me...">Dwm::SysLogger::ShowFileLocation(bool)</a>. It can also put three-character tags on each log message if you enable it with <a class="el" href="classDwm_1_1SysLogger.html#a52700d9d16ad0b3be1233f0cba79c43b" title="If showPriorities is true, the logger will tag each log message with an indication of the message&#39;s p...">Dwm::SysLogger::ShowPriorities(bool)</a>. You can also change the minimum priority of messages to be logged via <a class="el" href="classDwm_1_1SysLogger.html#aefcf3d760c17ce562b9b790abb11c911" title="Sets and returns the lowest message priority that the logger will log.">Dwm::SysLogger::MinimumPriority(int)</a> or <a class="el" href="classDwm_1_1SysLogger.html#a9c7c9744e0b8e163ea8f43210c1bce96" title="Sets and returns the lowest message priority that the logger will log.">Dwm::SysLogger::MinimumPriority(const std::string &amp;)</a>. This is handy when you want to toggle debug logging while a program is running, perhaps via a signal.</p>
<h2><a class="anchor" id="dwm_pacer_sec"></a>
Dwm::Pacer - pacing repetitive calls</h2>
<p>Documentation forthcoming</p>
<h2><a class="anchor" id="dwm_networking_sec"></a>
Networking classes</h2>
<p>Documentation forthcoming for <a class="el" href="classDwm_1_1HostPinger.html" title="Encapsulates a &#39;pinger&#39;, which can &#39;ping&#39; one or more hosts using TCP or ICMP.">Dwm::HostPinger</a>, ICMP classes, TCP classes, <a class="el" href="classDwm_1_1Pcap.html" title="This is a pcap wrapper/utility class.">Dwm::Pcap</a>, etc.</p>
<h3><a class="anchor" id="dwm_pcap_sec"></a>
Dwm::Pcap - simple pcap wrapper class</h3>
<p><a class="el" href="classDwm_1_1Pcap.html" title="This is a pcap wrapper/utility class.">Dwm::Pcap</a> is a simple wrapper class for pcap (packet capture library). It doesn't do anything beyond what libpcap provides, it simply wraps in in a C++ interface.</p>
<h3><a class="anchor" id="dwm_hostpinger_sec"></a>
Dwm::HostPinger - pinging IP hosts</h3>
<p><a class="el" href="classDwm_1_1HostPinger.html" title="Encapsulates a &#39;pinger&#39;, which can &#39;ping&#39; one or more hosts using TCP or ICMP.">Dwm::HostPinger</a> is a class that allows the 'pinging' of one or more IP hosts using ICMP or TCP. The overall packet rate may be controlled, and an object may be registered for the reception of responding host, receive time and round-trip time.</p>
<h3><a class="anchor" id="dwm_icmpclasses_sec"></a>
ICMP classes</h3>
<h2><a class="anchor" id="dwm_threadqueue_sec"></a>
Dwm::ThreadQueue - inter-thread communication</h2>
<p>Documentation forthcoming. </p>
</div></div><!-- PageDoc -->
<a href="doxygen_crawl.html"/>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- HTML footer for doxygen 1.8.11-->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">
      <table>
	<tr>
	  <td valign="bottom" align="right">
	    <address class="footer">
	      dwm
	    </address>
	  </td>
	</tr>
      </table>
    </li>
  </ul>
</div>
</body>
</html>
